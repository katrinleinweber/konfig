
alias a='alias | grep --color'
alias h='history | grep --color'
alias st='/Applications/Sublime\ Text.app/Contents/SharedSupport/bin/subl .'
alias rm=trash


# https://github.com/ohmyzsh/ohmyzsh/blob/d9e64344aa151f9b8e13a4f8054509a5d78bb718/plugins/osx/osx.plugin.zsh#L343-L345
alias showfiles="defaults write com.apple.finder AppleShowAllFiles -bool true && killall Finder"
alias hidefiles="defaults write com.apple.finder AppleShowAllFiles -bool false && killall Finder"


# https://github.com/ohmyzsh/ohmyzsh/blob/d9e64344aa151f9b8e13a4f8054509a5d78bb718/plugins/brew/brew.plugin.zsh
# See also https://github.com/robbyrussell/oh-my-zsh/pull/7536/

alias bh='brew search'
alias bo='brew info'
alias bco='brew cask info'

alias bbd='brew bundle dump --force --file="~/.config/Brewfile"'

bl() {
	brew install "$1"
	bbd
}

bcl() {
	brew cask install "$1"
	bbd
}


# Upgrade all the packages!

alias bu='brew update && brew outdated && brew cask outdated'
alias bup='brew upgrade && brew cask upgrade && bbd'

alias gup='gem update --no-document --conservative'
alias gu='gup --explain'

alias pip=pip3
alias pu="pip3 list --outdated"
alias pup="pu | cut -d ' ' -f 1 | xargs -n 1 pip3 install --upgrade"

alias u="gu && pu && bu"


# https://www.udemy.com/becoming-a-zsh-oh-my-zsh-power-user/learn/lecture/15129096#content
gpr() {
  if [ $? -eq 0 ]; then
    github_url=`git remote -v | awk '/fetch/{print $2}' | sed -Ee 's#(git@|git://)#http://#' -e 's@com:@com/@' -e 's%\.git$%%'`;
    branch_name=`git symbolic-ref HEAD 2>/dev/null | cut -d"/" -f 3`;
    pr_url=$github_url"/compare/master..."$branch_name
    open $pr_url;
  else
    echo 'failed to open a pull request.';
  fi
}


alias maat='java -jar ~/lernen/Code-Crime-Scene/code-maat/target/code-maat-1.1-SNAPSHOT-standalone.jar'


# https://fukuchi.org/works/qrencode/index.html.en
# brew install qrencode
qr() {
  FILE="$HOME"/Desktop/QR.png
  qrencode --output "$FILE" "$1"
  open $FILE
}



alias lg='lazygit'

# https://github.com/ohmyzsh/ohmyzsh/blob/ca627655dbd1d110dbea34ec4a8c1964a1da83d2/plugins/git/git.plugin.zsh

alias g='git'

alias ga='git add'
alias gaa='git add --all'

alias gb='git branch'
alias gcu='git branch --no-color --merged | command grep -vE "^(\+|\*|\s*(master|dev(elop)?(ment)?|gh-pages)\s*$)" | command xargs -n 1 git branch -d'


# https://blog.andrewray.me/a-better-git-blame/
alias gbl='git blame -b -w'
alias gsb='git log -p -M --follow --stat --'

alias gc='git commit --verbose'
alias gam='gc --amend'
alias gcn!='gam --no-edit'
alias gcal='git commit --verbose --all'
alias gcm='git commit --message'

alias gcf='git config --list'
alias gcl='git clone --recurse-submodules'
alias gco='git checkout'

alias gcp='git cherry-pick'
alias gcpa='gcp --abort'
alias gcpc='gcp --continue'

alias gd='git diff'
alias gdc='gd --cached'
alias gdcw='gdca --word-diff'
alias gds='gd --staged'
alias gdw='gd --word-diff'

alias gf='git fetch origin'
alias gfa='gf --all'
alias gfu='gf origin'

alias gpsup='git push --set-upstream origin $(git_current_branch)'

alias gl='git pull'
alias glrb='gl --rebase'
alias glum='gl upstream master'

alias gsl='git log --graph --all --decorate --cherry-mark --date=short'
alias gtl'='git log --oneline --graph --all --decorate'
alias gls='sl --stat'
alias glme='sl --author='Katrin Leinweber''
# https://www.jessesquires.com/blog/customizing-git-log/



alias gm='git merge'
alias gma='gm --abort'

alias gp='git push'
alias gps='git push -o ci.skip'
alias gpd='gp --dry-run'
alias gpf='gp --force-with-lease'
alias gpoat='git push origin --all && git push origin --tags'

# https://docs.gitlab.com/ce/user/project/push_options.html#push-options-for-gitlab-cicd
alias gps='gp -o ci.skip'

alias gr='git remote'
alias gra='gr add'
alias grmv='gr rename'
alias grrm='gr remove'
alias grset='gr set-url'
alias grv='gr --verbose'

alias grb='git rebase'
alias grba='grb --abort'
alias grbc='grb --continue'
alias grbm='grb master'
grbi() {
  grb --interactive "$1"~1
}

alias grev='git revert'
alias grs='git reset'
alias grsh='grs --hard'

alias grm='git rm'
alias grmc='git rm --cached'

alias gst='git status --untracked-files --show-stash'

alias gsw='git switch'
alias gcb='gsw --create'
alias gcm='gsw master'

# https://www.slideshare.net/GoAtlassian/git-aliases-of-the-gods
alias gsh='git stash save --keep-index'
alias gshai='git stash save --include-untracked'
alias gshal='git stash save --all'
alias gshp='git stash pop'

alias gwip='git add --all; git rm $(git ls-files --deleted) 2> /dev/null; git commit --no-verify --no-gpg-sign -m "WIP [skip ci]"'
alias gunwip='git log -n 1 | grep -q -c "WIP" && git reset HEAD~1'

# oh-my-ZSH common-aliases
alias du='du -h'
alias dud='du -d 1'
alias duf='du -s *'
alias ts='tree -h'
alias fd='find . -type d -name'
alias ff='find . -type f -name'
alias t='tail -f'
